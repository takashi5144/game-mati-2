# ピクセルファーム・フロンティア 3D v2

リアルな3Dグラフィックスで表現される都市建設シミュレーションゲーム。Banished風の間接操作システムを採用。

## 🎮 ゲーム概要

小さな開拓地から始めて、住民たちに適切な職業を割り当てながら、資源管理を通じて繁栄する街を築き上げます。

## 🚀 起動方法

1. ローカルサーバーを起動
```bash
python -m http.server 8000
# または
npx http-server
```

2. ブラウザで開く
```
http://localhost:8000
```

## 🎯 操作方法

### マウス操作
- **左クリック**: 選択/ツール実行
- **左ドラッグ**: 範囲選択（ツールモード時）
- **中ボタンドラッグ**: カメラパン
- **右ボタンドラッグ**: カメラ回転
- **ホイール**: ズームイン/アウト
- **右クリック**: ツールキャンセル

### キーボード操作
- **WASD**: カメラ移動
- **Q/E**: カメラ回転
- **1/2/3**: ゲーム速度（1x/2x/5x）
- **Space**: 一時停止
- **B**: 建設メニュー
- **P**: 住民パネル
- **ESC**: キャンセル

### デバッグコマンド
- **Shift+Alt+F1**: 火災を発生
- **Shift+Alt+F2**: 疫病を発生
- **Shift+Alt+F3**: 地震を発生
- **Shift+Alt+F4**: 嵐を発生
- **Shift+Alt+F5**: 干ばつを発生
- **Shift+Alt+F6**: 盗賊襲撃を発生

## 🏗️ 建物タイプ

- **家**: 人口上限+4
- **畑**: 食料生産
- **納屋**: 資源・農具保管
- **製材所**: 木材生産
- **市場**: 交易・物流
- **鍛冶屋**: 道具生産

## 👥 職業システム

- **無職**: 待機状態
- **農夫**: 農作業全般
- **建築家**: 建設作業
- **木こり**: 伐採・木材収集
- **商人**: 市場管理
- **鍛冶屋**: 道具製作

## 📊 バージョン履歴

### v0.9.0 (最新)
- 災害イベントシステム
  - 6種類の災害（火災、疫病、地震、嵐、干ばつ、盗賊襲撃）
  - 災害の深刻度と継続時間
  - 建物ダメージと破壊システム
  - 災害の拡散メカニズム（火災、疫病）
  - 緩和要因（特定の建物による防御）
  - 視覚エフェクト（火災パーティクル、地震の揺れ）
  - 災害履歴の記録
- 新建物タイプの追加（10種類）
  - 井戸、学校、礼拝堂、酒場、衛兵所
  - 薬草医、鉱山、町役場、倉庫
  - 各建物の特殊効果と視覚的詳細

### v0.8.0
- インタラクティブチュートリアル
  - 11ステップの包括的なチュートリアル
  - カメラ操作トレーニング
  - 建物配置ガイド
  - 職業割り当ての説明
  - 市場システムの紹介
  - セーブ/ロードの説明
  - 進捗トラッキング
  - 完了報酬システム

### v0.7.0
- 交易・経済システム
  - 動的な市場価格システム
  - 需要と供給による価格変動
  - 旅商人システム（専門分野あり）
  - 売買UI
  - 経済統計と価格トレンド表示
  - 取引税システム
  - 商人評判システム
  - 自動交易ルート

### v0.6.0
- 動的天候システム
  - 6種類の天候（晴れ、曇り、雨、霧、雪、嵐）
  - リアルタイムな天候遷移
  - 雨・雪のパーティクルエフェクト
  - 動的な雲の生成と移動
  - 嵐時の雷エフェクト
  - 季節に応じた天候パターン
  - 風システム
  - パフォーマンス最適化トグル

### v0.5.0
- セーブ/ロードシステム
  - ローカルストレージへの保存
  - 複数セーブスロット（通常5個＋オートセーブ3個）
  - クイックセーブ/ロード（Ctrl+F5/F9）
  - 60秒ごとの自動保存
  - セーブデータ管理UI
  - セーブ削除機能

### v0.4.0
- 建設アニメーションシステム
  - リアルな木製足場の表示
  - 建設現場マーカーと資材箱
  - 作業員のハンマー・運搬アニメーション
  - ダストパーティクルエフェクト
  - 進捗に応じた建物の高さアニメーション
  - 完成時の足場落下と光エフェクト

### v0.3.0 (2024-01-XX)
- 農業システム実装
  - 作物の植え付けと収穫
  - 成長段階の視覚表現
  - 季節と水分による成長管理
- 高度なAIシステム
  - ステートマシンベースのAI
  - 10種類の行動状態
  - ニーズベースの意思決定
  - 家の割り当てシステム
- 資源生産チェーン
  - レシピベースの生産システム
  - 小麦→小麦粉→パンなどの加工チェーン
  - パン屋、風車小屋、石工所を追加
  - 自動生産機能

### v0.2.0 (2024-01-XX)
- カメラコントロールシステム実装
  - 中ボタンドラッグでカメラパン
  - 右ボタンドラッグでカメラ回転
  - WASDキーでカメラ移動、Q/Eで回転
- ツールシステム実装
  - 建物配置プレビュー
  - 範囲選択機能（資源確保、整地、農地）
- ビジュアルフィードバック追加
  - カーソル位置インジケーター
  - グリッドヘルパー（建物配置時）
  - 範囲選択ビジュアライザー
  - ツール別カーソルスタイル

### v0.1.0 (2024-01-XX)
- 初期リリース
- 基本システムの実装

## 🛠️ 技術仕様

- **レンダリング**: Three.js r128
- **言語**: ES6+ JavaScript (モジュール)
- **必要環境**: WebGL 2.0対応ブラウザ

## 📝 ライセンス

MIT License